language: go

go:
  - 1.14.x

install:
  - go get github.com/bostontrader/okprobe

script:
  - git clone https://github.com/bostontrader/okcatbox
  - cd okcatbox
  - go build
  - ./okcatbox &

  - okprobe -url http://localhost:8090 -errors true -keyfile okcatbox-read.json -endpnt currencies
  - okprobe -url http://localhost:8090 -errors true -keyfile okcatbox-read.json -endpnt deposit-address
  - okprobe -url http://localhost:8090 -errors true -keyfile okcatbox-read.json -endpnt deposit-history
  - okprobe -url http://localhost:8090 -errors true -keyfile okcatbox-read.json -endpnt wallet
  - okprobe -url http://localhost:8090 -errors true -keyfile okcatbox-read.json -endpnt withdrawalfee
